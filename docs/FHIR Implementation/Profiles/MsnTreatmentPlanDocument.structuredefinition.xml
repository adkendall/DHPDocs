<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <meta>
    <lastUpdated value="2017-11-15T14:43:44.178+00:00" />
  </meta>
  <url value="https://www.youngcancer.scot.nhs.uk/fhir/MsnTreatmentPlanDoc" />
  <name value="MsnTreatmentPlan" />
  <status value="draft" />
  <date value="2017-06-21T17:17:09.0132306+01:00" />
  <description value="Base StructureDefinition for MsnTreatmentPlanDoc. This document is created by a Keyworker using an admin portal and read by the MSN app." />
  <fhirVersion value="1.0.2" />
  <kind value="resource" />
  <constrainedType value="DocumentReference" />
  <abstract value="false" />
  <base value="http://hl7.org/fhir/StructureDefinition/DocumentReference" />
  <differential>
    <element>
      <path value="DocumentReference" />
    </element>
    <element>
      <path value="DocumentReference.extension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="DocumentReference.extension" />
      <name value="uploadedBy" />
      <short value="Base for all elements" />
      <definition value="Optional Extensions Element - found in all resources." />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://www.youngcancer.scot.nhs.uk/fhir/MsnUploadedByExtension" />
      </type>
    </element>
    <element>
      <path value="DocumentReference.masterIdentifier" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.identifier" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.subject" />
      <definition value="Subject is mandatory and must reference a Patient resource" />
      <min value="1" />
      <type>
        <code value="Reference" />
        <profile value="http://hl7.org/fhir/StructureDefinition/Patient" />
      </type>
    </element>
    <element>
      <path value="DocumentReference.subject.display" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.type" />
      <short value="Kind of document" />
      <definition value="Type must be a fixed string 'MsnDiagnosisDocument'" />
    </element>
    <element>
      <path value="DocumentReference.type.coding" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.type.text" />
      <short value="Plain text representation of the document type" />
      <definition value="This must be a fixed value of 'MsnScanImage'" />
      <fixedString value="MsnScanImage" />
    </element>
    <element>
      <path value="DocumentReference.class" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.author" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.custodian" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.authenticator" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.status" />
      <definition value="Fixed value 'current'" />
      <fixedCode value="current" />
    </element>
    <element>
      <path value="DocumentReference.docStatus" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.relatesTo" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.description" />
      <definition value="A description must be specified, either manually entered by a keyworker or generated by the Admin portal" />
      <min value="1" />
    </element>
    <element>
      <path value="DocumentReference.securityLabel" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.content" />
      <definition value="Exactly one document must be referenced in pdf format." />
      <max value="1" />
    </element>
    <element>
      <path value="DocumentReference.content.attachment.contentType" />
      <definition value="Identifies the type of the data in the attachment and allows a method to be chosen to interpret or render the data. Must be fixed value of 'application/pdf'" />
    </element>
    <element>
      <path value="DocumentReference.content.attachment.language" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.content.attachment.url" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.content.format" />
      <max value="0" />
    </element>
    <element>
      <path value="DocumentReference.context" />
      <max value="0" />
    </element>
  </differential>
</StructureDefinition>